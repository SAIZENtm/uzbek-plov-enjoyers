# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ

## üéØ –ó–∞–¥–∞—á–∞
–°–¥–µ–ª–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (Dashboard) –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω initialLocation –≤ —Ä–æ—É—Ç–µ—Ä–µ

**–î–æ:**
```dart
static final GoRouter router = GoRouter(
  navigatorKey: _rootNavigatorKey,
  initialLocation: '/splash',
  debugLogDiagnostics: true,
```

**–ü–æ—Å–ª–µ:**
```dart
static final GoRouter router = GoRouter(
  navigatorKey: _rootNavigatorKey,
  initialLocation: '/dashboard',
  debugLogDiagnostics: true,
```

### 2. –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

**–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:**
```dart
// If authenticated and trying to go to splash, redirect to dashboard
if (isAuthenticated && state.uri.path == '/splash') {
  return '/dashboard';
}
```

**–ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞:**
```dart
redirect: (context, state) {
  final authService = GetIt.instance<AuthService>();
  final isAuthenticated = authService.isAuthenticated;
  final isOnAuthFlow = ['/splash', '/auth', '/apartments', '/family-request', '/phone-registration', '/invite'].contains(state.uri.path);
  
  // If not authenticated and not on auth flow, go to splash
  if (!isAuthenticated && !isOnAuthFlow) {
    return '/splash';
  }
  
  // If authenticated and on auth flow (except apartments), go to dashboard
  if (isAuthenticated && isOnAuthFlow && state.uri.path != '/apartments') {
    return '/dashboard';
  }
  
  // If authenticated and trying to go to splash, redirect to dashboard
  if (isAuthenticated && state.uri.path == '/splash') {
    return '/dashboard';
  }
  
  return null; // No redirect needed
},
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ù–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

#### –î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí Dashboard (–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
- ‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /splash** ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Dashboard
- ‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /auth** ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Dashboard
- ‚úÖ **–ü—Ä—è–º–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** ‚Üí Dashboard –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º

#### –î–ª—è –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí Splash Screen (–ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- ‚úÖ **–ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–∫—Ä–∞–Ω–∞–º** ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Splash
- ‚úÖ **–ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** ‚Üí Auth flow —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω):**
   - –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/dashboard`
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/splash`
   - –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí Dashboard

2. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω):**
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/dashboard`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

3. **–ü—Ä—è–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
   - –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –ª—é–±—ã–µ —ç–∫—Ä–∞–Ω—ã
   - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø** - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ä–∞–∑—É –≤–∏–¥—è—Ç –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å** - Dashboard –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø—Ä–æ—Ö–æ–¥—è—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   ```
   –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Dashboard ‚úÖ
   –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /splash ‚Üí Dashboard ‚úÖ
   –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /auth ‚Üí Dashboard ‚úÖ
   –ü—Ä—è–º–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚Üí –†–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
   ```

2. **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   ```
   –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Splash ‚Üí Auth flow ‚úÖ
   –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Dashboard ‚Üí Splash ‚úÖ
   –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí Dashboard ‚úÖ
   ```

3. **–°–º–µ—à–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
   ```
   –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ ‚Üí Splash ‚úÖ
   –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ ‚Üí Dashboard ‚úÖ
   –ì–ª—É–±–æ–∫–∏–µ —Å—Å—ã–ª–∫–∏ ‚Üí –†–∞–±–æ—Ç–∞—é—Ç —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º ‚úÖ
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:
```bash
flutter analyze  # ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫
flutter run      # ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```

## üéâ –ì–æ—Ç–æ–≤–æ!
–¢–µ–ø–µ—Ä—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (Dashboard) —è–≤–ª—è–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç. 