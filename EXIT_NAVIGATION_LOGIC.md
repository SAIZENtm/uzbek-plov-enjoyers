# –õ–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ –ó–∞–¥–∞—á–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –≥–¥–µ:
1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Dashboard) —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
3. –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤—Å–µ–≥–¥–∞ –≤–µ–¥–µ—Ç –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∞ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã - –∫ –≤—ã—Ö–æ–¥—É —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω PremiumMainShell —Å –ª–æ–≥–∏–∫–æ–π PopScope

**–î–æ–±–∞–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥":**
```dart
@override
Widget build(BuildContext context) {
  return PopScope(
    canPop: false,
    onPopInvoked: (didPop) async {
      if (didPop) return;
      
      final location = GoRouterState.of(context).uri.toString();
      
      // –ï—Å–ª–∏ –º—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –≤—ã—Ö–æ–¥–∞
      if (location == '/dashboard') {
        final shouldExit = await _showExitDialog(context);
        if (shouldExit) {
          // –í—ã—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
          SystemNavigator.pop();
        }
      } else {
        // –ï—Å–ª–∏ –Ω–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        context.go('/dashboard');
      }
    },
    child: Scaffold(
      body: child,
      bottomNavigationBar: _buildBottomNavigationBar(context),
    ),
  );
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞

**–ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∞–ª–æ–≥ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:**
```dart
Future<bool> _showExitDialog(BuildContext context) async {
  return await showDialog<bool>(
    context: context,
    barrierDismissible: false,
    builder: (BuildContext context) {
      return AlertDialog(
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(16),
        ),
        title: Row(
          children: [
            Icon(
              Icons.exit_to_app,
              color: AppTheme.newportPrimary,
              size: 24,
            ),
            const SizedBox(width: 8),
            Text(
              '–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
              style: AppTheme.lightTheme.textTheme.titleLarge,
            ),
          ],
        ),
        content: Text(
          '–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?',
          style: AppTheme.lightTheme.textTheme.bodyMedium,
        ),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: Text('–û—Ç–º–µ–Ω–∞'),
          ),
          ElevatedButton(
            onPressed: () => Navigator.of(context).pop(true),
            style: ElevatedButton.styleFrom(
              backgroundColor: AppTheme.newportPrimary,
              foregroundColor: Colors.white,
            ),
            child: const Text('–í—ã–π—Ç–∏'),
          ),
        ],
      );
    },
  ) ?? false;
}
```

### 3. –£–±—Ä–∞–Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ ServiceRequestStepperScreen

**–£–¥–∞–ª–µ–Ω PopScope –∏–∑ —Ñ–æ—Ä–º—ã –∑–∞—è–≤–∫–∏:**
- –£–±—Ä–∞–Ω `PopScope` –∏–∑ `service_request_stepper_screen.dart`
- –¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∞ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ —Ñ–æ—Ä–º–µ –≤–µ–¥–µ—Ç –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

## üöÄ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥":

1. **–° –ª—é–±–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (–∫—Ä–æ–º–µ Dashboard):**
   - –ù–∞–∂–∞—Ç–∏–µ "–ù–∞–∑–∞–¥" ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Dashboard
   - –ü—Ä–∏–º–µ—Ä—ã:
     - Profile ‚Üí **–ù–∞–∑–∞–¥** ‚Üí Dashboard ‚úÖ
     - Services ‚Üí **–ù–∞–∑–∞–¥** ‚Üí Dashboard ‚úÖ
     - News ‚Üí **–ù–∞–∑–∞–¥** ‚Üí Dashboard ‚úÖ
     - Service Request ‚Üí **–ù–∞–∑–∞–¥** ‚Üí Dashboard ‚úÖ

2. **–° –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Dashboard):**
   - –ù–∞–∂–∞—Ç–∏–µ "–ù–∞–∑–∞–¥" ‚Üí –î–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞
   - –í—ã–±–æ—Ä "–í—ã–π—Ç–∏" ‚Üí –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –í—ã–±–æ—Ä "–û—Ç–º–µ–Ω–∞" ‚Üí –û—Å—Ç–∞–µ–º—Å—è –Ω–∞ Dashboard

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:

- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—Ç, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤–µ–¥–µ—Ç –∫ –≥–ª–∞–≤–Ω–æ–π
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ–ª—å–∑—è —Å–ª—É—á–∞–π–Ω–æ –≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–±** - Dashboard –∫–∞–∫ –≥–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ **UX** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## üì± –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
```
Dashboard ‚Üí Profile ‚Üí –ù–∞–∑–∞–¥ ‚Üí Dashboard ‚úÖ
Dashboard ‚Üí Services ‚Üí New Request ‚Üí –ù–∞–∑–∞–¥ ‚Üí Dashboard ‚úÖ
Dashboard ‚Üí News ‚Üí Article ‚Üí –ù–∞–∑–∞–¥ ‚Üí Dashboard ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
Dashboard ‚Üí –ù–∞–∑–∞–¥ ‚Üí "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?" ‚Üí –í—ã–π—Ç–∏ ‚Üí –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚úÖ
Dashboard ‚Üí –ù–∞–∑–∞–¥ ‚Üí "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?" ‚Üí –û—Ç–º–µ–Ω–∞ ‚Üí Dashboard ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ì–ª—É–±–æ–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
```
Dashboard ‚Üí Services ‚Üí New Request ‚Üí Step 3 ‚Üí –ù–∞–∑–∞–¥ ‚Üí Dashboard ‚úÖ
Dashboard ‚Üí Profile ‚Üí Edit ‚Üí –ù–∞–∑–∞–¥ ‚Üí Dashboard ‚úÖ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

1. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ Dashboard:**
   - ‚úÖ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —ç–∫—Ä–∞–Ω
   - ‚úÖ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
   - ‚úÖ –î–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ Dashboard

2. **–î–∏–∞–ª–æ–≥ –≤—ã—Ö–æ–¥–∞:**
   - ‚úÖ –ù–∞—Ö–æ–¥—è—Å—å –Ω–∞ Dashboard, –Ω–∞–∂–º–∏—Ç–µ "–ù–∞–∑–∞–¥"
   - ‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - ‚úÖ "–û—Ç–º–µ–Ω–∞" ‚Üí –æ—Å—Ç–∞–µ–º—Å—è –Ω–∞ Dashboard
   - ‚úÖ "–í—ã–π—Ç–∏" ‚Üí –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

3. **–§–æ—Ä–º—ã –∏ –¥–∏–∞–ª–æ–≥–∏:**
   - ‚úÖ –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
   - ‚úÖ –ù–∞–∂–º–∏—Ç–µ "–ù–∞–∑–∞–¥" ‚Üí –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ Dashboard
   - ‚úÖ –ß–µ—Ä–Ω–æ–≤–∏–∫ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
flutter analyze  # ‚úÖ –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
flutter run      # ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ß—Ç–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
1. ‚úÖ **Dashboard –∫–∞–∫ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –≤—Å–µ –ø—É—Ç–∏ –≤–µ–¥—É—Ç –∫ –≥–ª–∞–≤–Ω–æ–π
2. ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞** - –∫—Ä–∞—Å–∏–≤—ã–π –¥–∏–∞–ª–æ–≥ —Å –≤—ã–±–æ—Ä–æ–º
3. ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –ø–æ–Ω—è—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
4. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ–ª—å–∑—è —Å–ª—É—á–∞–π–Ω–æ –≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** - –≤—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:
- üéØ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –≥–ª–∞–≤–Ω–æ–π
- üéØ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º
- üéØ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—à—å, –∫—É–¥–∞ –≤–µ–¥–µ—Ç "–ù–∞–∑–∞–¥"
- üéØ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

–¢–µ–ø–µ—Ä—å –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏! üöÄ 