# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ - –°–≤–æ–¥–∫–∞

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### 1. **–û—à–∏–±–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - –ø—É—Å—Ç–æ–π URL**
**–ü—Ä–æ–±–ª–µ–º–∞:** `Invalid argument(s): No host specified in URI file:///`

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```dart
// –ë—ã–ª–æ:
if (_article!.imageUrl != null)

// –°—Ç–∞–ª–æ:
if (_article!.imageUrl != null && _article!.imageUrl!.isNotEmpty)
```

**–§–∞–π–ª—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
- `lib/presentation/news_screen/news_detail_screen.dart`
- `lib/presentation/news_screen/news_list_screen.dart`
- `lib/presentation/dashboard_screen/dashboard_screen.dart`

### 2. **–û—à–∏–±–∫–∞ Firestore - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤**
**–ü—Ä–æ–±–ª–µ–º–∞:** `[cloud_firestore/permission-denied] The caller does not have permission`

**–†–µ—à–µ–Ω–∏–µ:** –í—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–ª—è –≤—Å–µ—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `users/{userId}`

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Firestore:**
```javascript
match /users/{userId} {
  // –í–†–ï–ú–ï–ù–ù–û: –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  allow read, write: if isAuthenticated();
}
```

### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Storage –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞**
**–°–æ–∑–¥–∞–Ω—ã:** `storage.rules` —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è Firebase Storage

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (5MB –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME —Ç–∏–ø–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üì∏ **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π**

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ç–æ** ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
2. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ Firebase Storage** ‚Üí –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ URL** ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ Firebase URL
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏** ‚Üí URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Firestore
5. **–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–∞–π—Ç** ‚Üí URL –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ webhook

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:
```
Firebase Storage:
‚îú‚îÄ‚îÄ service_requests/
‚îÇ   ‚îú‚îÄ‚îÄ {requestId}/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ image_1_{timestamp}.jpg
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ image_2_{timestamp}.jpg
‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îú‚îÄ‚îÄ {userId}/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ avatar.jpg
‚îî‚îÄ‚îÄ utility_readings/
    ‚îú‚îÄ‚îÄ {readingId}/
    ‚îÇ   ‚îî‚îÄ‚îÄ images/
    ‚îÇ       ‚îî‚îÄ‚îÄ meter_photo.jpg
```

## üîë **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Å–≤—è–∑–∏ —Å –≤–µ–±-—Å–∞–π—Ç–æ–º:
- **`userId`** - –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞ –∏–ª–∏ ID –∫–≤–∞—Ä—Ç–∏—Ä—ã (–≥–ª–∞–≤–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
- **`userPhone`** - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è —Å–≤—è–∑–∏
- **`userName`** - –ø–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–æ–∏—Å–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```sql
-- –ü–æ userId (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
SELECT * FROM service_requests WHERE user_id = 'AB1234567';

-- –ü–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
SELECT * FROM service_requests WHERE user_phone = '+998999357706';

-- –ü–æ –∫–≤–∞—Ä—Ç–∏—Ä–µ
SELECT * FROM service_requests WHERE apartment_number = '203' AND block = 'F';
```

## üìã **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`WEB_INTEGRATION_GUIDE.md`** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
2. **`QUICK_INTEGRATION_SUMMARY.md`** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
3. **`storage_rules_production.txt`** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Storage

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–∫–∏:
```json
{
  "id": "1752172461965",
  "userId": "AB1234567",
  "userName": "OTABEK USKENBAYEV SAIDAXMAD O'G'LI",
  "userPhone": "+998999357706",
  "apartmentNumber": "203",
  "block": "F",
  "requestType": "plumbing",
  "description": "–ü—Ä–æ—Ç–µ–∫–∞–µ—Ç –∫—Ä–∞–Ω –≤ –≤–∞–Ω–Ω–æ–π",
  "priority": "High",
  "contactMethod": "phone",
  "preferredTime": "2025-07-09T14:00:00+05:00",
  "photos": [
    "https://firebasestorage.googleapis.com/v0/b/newport-23a19.appspot.com/o/service_requests%2F1752172461965%2Fimages%2Fimage_1_1752172461965.jpg?alt=media&token=abc123..."
  ],
  "status": "new",
  "createdAt": "2025-07-09T10:38:00+05:00",
  "updatedAt": "2025-07-09T10:38:00+05:00",
  "requestSource": "mobile_app"
}
```

## üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É**

### ‚úÖ **–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Firebase Storage
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-—Å–∞–π—Ç–æ–º
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ Firestore

### üìã **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. **–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ Storage** –≤ Firebase Console (–µ—Å–ª–∏ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook URL** –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. **–°–æ–∑–¥–∞–π—Ç–µ endpoint** –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ –¥–ª—è –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–æ–∫
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

### –ü—Ä–∞–≤–∏–ª–∞ Storage:
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–≤–∫–ª—é—á–∞—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME —Ç–∏–ø–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏

### –ü—Ä–∞–≤–∏–ª–∞ Firestore:
- –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- TODO: –í–µ—Ä–Ω—É—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞!** üéâ

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-—Å–∞–π—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞. 