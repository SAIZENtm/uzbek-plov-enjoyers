<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì± –ü—Ä–æ—Å—Ç–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
        }
        .step {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        .step h3 {
            color: #667eea;
            margin: 0 0 15px 0;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
            word-break: break-all;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;
            margin: 15px 0;
            transition: transform 0.3s;
            box-sizing: border-box;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }
        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }
        .status {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .ip-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #667eea;
            border-radius: 10px;
            font-size: 16px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            box-sizing: border-box;
        }
        .ip-input:focus {
            outline: none;
            border-color: #764ba2;
        }
        .qr-section {
            text-align: center;
            margin: 30px 0;
        }
        .qr-code {
            margin: 20px 0;
        }
        .qr-code img {
            max-width: 200px;
            border-radius: 10px;
        }
        .device-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        .current-url {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #4caf50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì± –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
        
        <div class="status info">
            <strong>–í–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω!</strong><br>
            –ö–æ–º–∞–Ω–¥–∞: <code>python -m http.server 8000</code>
        </div>
        
        <div class="step">
            <h3>üåê –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤–∞—à IP –∞–¥—Ä–µ—Å</h3>
            <p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:</p>
            <div class="code-block">
                # Windows:<br>
                ipconfig<br><br>
                # Mac/Linux:<br>
                ifconfig | grep inet
            </div>
            <p>–ù–∞–π–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ WiFi –∞–¥–∞–ø—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 192.168.x.x)</p>
        </div>
        
        <div class="step">
            <h3>üìç –®–∞–≥ 2: –í–≤–µ–¥–∏—Ç–µ –≤–∞—à IP –∞–¥—Ä–µ—Å</h3>
            <input type="text" class="ip-input" id="ipInput" placeholder="192.168.1.100" value="">
            <button class="btn" onclick="generateLinks()">üîó –°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫–∏</button>
        </div>
        
        <div id="linksSection" style="display: none;">
            <div class="current-url">
                <h3>üì± –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:</h3>
                <div class="code-block" id="mobileUrl"></div>
                <a href="#" class="btn" id="openMobile" target="_blank">
                    üì± –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                </a>
            </div>
            
            <div class="qr-section">
                <h3>üì∑ QR –∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</h3>
                <div class="qr-code" id="qrCode"></div>
            </div>
            
            <div class="step">
                <h3>üß™ –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                <a href="#" class="btn" id="testUniversal">
                    üîó –¢–µ—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
                </a>
                <a href="#" class="btn btn-secondary" id="testWeb">
                    üåê –¢–µ—Å—Ç –≤–µ–±-–≤–µ—Ä—Å–∏–∏
                </a>
                <a href="#" class="btn btn-secondary" id="testCreate">
                    üß™ –°–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞–π—Ç
                </a>
            </div>
        </div>
        
        <div class="step">
            <h3>üéØ –ß—Ç–æ –æ–∂–∏–¥–∞—Ç—å –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</h3>
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</strong></p>
            <ul>
                <li>–°–ø–∏–Ω–Ω–µ—Ä "–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..."</li>
                <li>–ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"</li>
                <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≤–µ–±-–≤–µ—Ä—Å–∏—é</li>
                <li>–§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</li>
            </ul>
            
            <p><strong>–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</strong></p>
            <ul>
                <li>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é</li>
                <li>–≠–∫—Ä–∞–Ω –ø—Ä–∏–Ω—è—Ç–∏—è –∏–Ω–≤–∞–π—Ç–∞</li>
                <li>–ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
            </ul>
        </div>
        
        <div class="device-info" id="deviceInfo">
            –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ...
        </div>
    </div>

    <script>
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
        function getDeviceInfo() {
            const info = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screenSize: `${screen.width}x${screen.height}`,
                windowSize: `${window.innerWidth}x${window.innerHeight}`,
                isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                isIOS: /iPad|iPhone|iPod/.test(navigator.userAgent),
                isAndroid: /Android/.test(navigator.userAgent)
            };
            
            return info;
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
        function generateLinks() {
            const ip = document.getElementById('ipInput').value.trim();
            
            if (!ip) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å');
                return;
            }
            
            // –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è IP
            const ipPattern = /^(\d{1,3}\.){3}\d{1,3}$/;
            if (!ipPattern.test(ip)) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 192.168.1.100)');
                return;
            }
            
            const serverUrl = `http://${ip}:8000`;
            const universalUrl = `${serverUrl}/universal_link_handler.html?invite=THZ5RZ9FD3D9DR01`;
            const webUrl = `${serverUrl}/invite_web.html?invite=THZ5RZ9FD3D9DR01`;
            const createUrl = `${serverUrl}/test_invite_system.html`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
            document.getElementById('mobileUrl').textContent = serverUrl;
            document.getElementById('openMobile').href = serverUrl;
            document.getElementById('testUniversal').href = universalUrl;
            document.getElementById('testWeb').href = webUrl;
            document.getElementById('testCreate').href = createUrl;
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(universalUrl)}`;
            document.getElementById('qrCode').innerHTML = `
                <img src="${qrUrl}" alt="QR Code">
                <p><small>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏</small></p>
            `;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é —Å—Å—ã–ª–æ–∫
            document.getElementById('linksSection').style.display = 'block';
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å IP –≤ localStorage
            localStorage.setItem('testIP', ip);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
        function updateDeviceInfo() {
            const deviceInfo = getDeviceInfo();
            const deviceInfoEl = document.getElementById('deviceInfo');
            
            deviceInfoEl.innerHTML = `
                <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:</strong><br>
                –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${deviceInfo.platform}<br>
                –ú–æ–±–∏–ª—å–Ω–æ–µ: ${deviceInfo.isMobile ? '–î–∞' : '–ù–µ—Ç'}<br>
                iOS: ${deviceInfo.isIOS ? '–î–∞' : '–ù–µ—Ç'}<br>
                Android: ${deviceInfo.isAndroid ? '–î–∞' : '–ù–µ—Ç'}<br>
                –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞: ${deviceInfo.screenSize}<br>
                –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞: ${deviceInfo.windowSize}<br>
                –Ø–∑—ã–∫: ${deviceInfo.language}
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            updateDeviceInfo();
            
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π IP
            const savedIP = localStorage.getItem('testIP');
            if (savedIP) {
                document.getElementById('ipInput').value = savedIP;
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –µ—Å–ª–∏ IP —É–∂–µ –≤–≤–µ–¥–µ–Ω
            if (savedIP) {
                generateLinks();
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
        document.getElementById('ipInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateLinks();
            }
        });
    </script>
</body>
</html> 